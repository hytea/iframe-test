<!DOCTYPE html>
<html>
  <head>
    <title>Rainbow Hello</title>
    <style>
      .rainbow {
        animation: rainbowShift 0.5s infinite;
      }

      @keyframes rainbowShift {
        0% {
          color: red;
        }
        16.67% {
          color: orange;
        }
        33.33% {
          color: yellow;
        }
        50% {
          color: green;
        }
        66.67% {
          color: blue;
        }
        83.33% {
          color: indigo;
        }
        100% {
          color: violet;
        }
      }
    </style>
  </head>
  <body>
    <h1 class="rainbow">Hello</h1>
    <button id="messageButton">Random Font Color</button>
    <button id="backgroundButton">Toggle Background Color</button>

    <script>
      const messageId = new URLSearchParams(window.location.search).get(
        'messageId'
      );
      const backgroundColor = new URLSearchParams(window.location.search).get(
        'backgroundColor'
      );
      document
        .getElementById('messageButton')
        .addEventListener('click', function () {
          window.parent.postMessage(
            {
              type: 'randomize-text-color',
              messageId: messageId,
            },
            '*'
          );
        });
      document
        .getElementById('backgroundButton')
        .addEventListener('click', function () {
          window.parent.postMessage(
            {
              type: 'set-background-color',
              payload: { color: backgroundColor },
            },
            '*'
          );
        });
    </script>
  </body>
</html>
